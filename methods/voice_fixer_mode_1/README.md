# VoiceFixer Enhancement Script

This script uses the [VoiceFixer](https://github.com/haoheliu/voicefixer) library to enhance audio files, specifically targeting speech restoration. It expects input audio files prepared with a `_44k.wav` suffix (44.1kHz sample rate).

## Setup

These instructions assume you have Conda installed but have not yet created a specific environment for this script.

1.  **Create Conda Environment**:
    Open your terminal and run the following command to create a new environment named `voicefixer-env` with Python 3.9:
    ```bash
    conda create -n voicefixer-env python=3.9 -y
    ```

2.  **Activate Environment**:
    Activate the newly created environment:
    ```bash
    conda activate voicefixer-env
    ```

3.  **Install Dependencies**:
    Navigate to this directory (`methods/voice_fixer`) in your terminal (while the `voicefixer-env` is active) and install the required Python packages using the provided `requirements.txt` file:
    ```bash
    pip install -r requirements.txt
    ```
    *Note: This installs the CPU version of PyTorch. If you have a compatible GPU and CUDA installed, you might consider installing a GPU-enabled PyTorch version following instructions on the official [PyTorch website](https://pytorch.org/).*

## Running the Script

Once the `voicefixer-env` environment is activated and dependencies are installed, you can run the enhancement script from within this directory (`methods/voice_fixer`):

```bash
python run.py [options]
```

**Options**:

*   `--input-dir <path>`: Specifies the directory containing the prepared audio files (e.g., `*_44k.wav`).
    *   Default: `../../assets/prepared`
*   `--output-dir <path>`: Specifies the directory where the enhanced audio files will be saved. Enhanced files will have a `_vf_enhanced.wav` suffix.
    *   Default: `./output`

**Example**:

```bash
# Using default directories (make sure you are in methods/voice_fixer)
python run.py

# Specifying custom directories
python run.py --input-dir ../../assets/prepared --output-dir ./output
```

Make sure the input directory contains the correctly prepared `*_44k.wav` files, typically generated by the root `preparation.py` script. 